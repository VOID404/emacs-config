* UI
** All the icons
   #+BEGIN_SRC emacs-lisp
     (use-package all-the-icons
       :straight t)
   #+END_SRC

** Modeline
   #+BEGIN_SRC emacs-lisp
     (use-package doom-modeline
       :straight t
       :init
       (setq-default battery-mode-line-format "[%b%p%%  %t] ")
       (setq-default display-time-default-load-average nil)
       (setq-default display-time-format "%H:%M")
       :config
       (display-battery-mode)
       (display-time-mode)
       (doom-modeline-mode 1))
   #+END_SRC

** Which key
   #+BEGIN_SRC emacs-lisp
     (use-package which-key
       :straight t
       :config
       (which-key-mode 1))
   #+END_SRC

** Themes
   #+BEGIN_SRC emacs-lisp
     (use-package dracula-theme
       :straight t
       :defer t)

     (use-package base16-theme
       :straight t
       :defer t)

     (use-package cyberpunk-theme
       :straight t
       :defer t)

     (load-theme 'cyberpunk t)
   #+END_SRC

** Treemacs
   #+BEGIN_SRC emacs-lisp
     (use-package treemacs
       :straight t
       :bind ("C-c f" . treemacs-select-window))
     (use-package treemacs-magit
       :straight t
       :after treemacs)
   #+END_SRC

* Utils
** Hydra
   #+BEGIN_SRC emacs-lisp
     (use-package hydra
       :straight t)
     (use-package pretty-hydra
       :straight t)
     (use-package major-mode-hydra
       :straight t
       :defer nil
       :bind
       ("M-SPC" . major-mode-hydra))
   #+END_SRC

** Ranger
   #+BEGIN_SRC emacs-lisp
     (use-package ranger
       :straight t
       :commands ranger
       :bind ("C-c r" . ranger))
   #+END_SRC

** Auto Brackets
   #+BEGIN_SRC emacs-lisp
     (show-paren-mode)
     (use-package autopair
       :straight t
       :config
       (autopair-global-mode))
   #+END_SRC

** Projectile
   #+BEGIN_SRC emacs-lisp
     (use-package projectile
       :straight t
       :config
       (projectile-mode +1))
   #+END_SRC

** Transpose frame
   #+BEGIN_SRC emacs-lisp
     (use-package transpose-frame
       :straight t
       :pretty-hydra
       ((:color red :quit-key "q")
	("Transpose"
	 (("h" flop-frame "horizontal")
	  ("v" flip-frame "vertical")
	  ("r" rotate-frame-clockwise "rotate 90")
	  ("R" rotate-frame-clockwise "rotate 180"))))
       :bind ("C-c t" . transpose-frame-hydra/body))
   #+END_SRC

** Ivy
   #+BEGIN_SRC emacs-lisp
     (use-package ivy
       :straight t
       :config
       (ivy-mode 1))

     (use-package all-the-icons-ivy
       :straight t
       :after (ivy all-the-icons)
       :config
       (all-the-icons-ivy-setup))

     (use-package counsel
       :straight t
       :after ivy
       :defer nil
       :bind (("M-x" . counsel-M-x)
	      ("C-s" . swiper-isearch)
	      ("C-x C-f" . counsel-project-file-jump)
	      ("C-c w" . hydra-window/body)))

     (use-package ace-window
       :straight t)

     (defun counsel-project-file-jump ()
       (interactive)
       (counsel-file-jump nil (projectile-project-p)))

     (pretty-hydra-define hydra-window
       (:color amaranth :quit-key "q")
       ("Buffer"
	(("," previous-buffer "previous")
	 ("." next-buffer "next")
	 ("bb" counsel-ibuffer "jump buffer")
	 ("c" crux-create-scratch-buffer "scratch")
	 ("k" kill-current-buffer "kill"))
	"Window"
	(("ww" ace-window "switch")
	 ("s" ace-swap-window "swap")
	 ("v" split-window-below "split below")
	 ("h" split-window-right "wplit right")
	 ("wk" delete-window "kill")
	 ("f" delete-other-windows "fullscreen"))))
   #+END_SRC

** Magit
   #+BEGIN_SRC emacs-lisp
	  (use-package magit
	    :straight t
	    :config
	    (defalias 'magit-diff-visit-file 'magit-diff-visit-file-other-window)
	    :pretty-hydra
	    ((:color teal :quit-key "q")
	     ("View"
	      (("s" magit-status "status")
	       ("l" magit-log-all-branches "log")
	       ("b" magit-blame "blame"))
	      "Do"
	      (("p" magit-push "push")
	       ("z" magit-stash "stash"))))
	    :bind ("C-c g" . magit-hydra/body))
   #+END_SRC

** Crux
   #+BEGIN_SRC emacs-lisp
     (use-package crux
       :straight t
       :bind (("C-k" . crux-smart-kill-line)
	      ("C-a" . crux-move-beginning-of-line)))
   #+END_SRC

** Helpful
   #+BEGIN_SRC emacs-lisp
     (use-package helpful
       :straight t)
   #+END_SRC

** Multiple Cursors
   #+BEGIN_SRC emacs-lisp
     (use-package multiple-cursors
       :straight t
       :bind ("C-d" . hydra-multiple-cursors/body))

     (defhydra hydra-multiple-cursors (:hint nil)
       "
      Up^^             Down^^           Miscellaneous           % 2(mc/num-cursors) cursor%s(if (> (mc/num-cursors) 1) \"s\" \"\")
     ------------------------------------------------------------------
      [_p_]   Next     [_n_]   Next     [_l_] Edit lines  [_0_] Insert numbers
      [_P_]   Skip     [_N_]   Skip     [_a_] Mark all    [_A_] Insert letters
      [_M-p_] Unmark   [_M-n_] Unmark   [_s_] Search
      [Click] Cursor at point       [_q_] Quit"
       ("l" mc/edit-lines :exit t)
       ("a" mc/mark-all-like-this :exit t)
       ("n" mc/mark-next-like-this)
       ("N" mc/skip-to-next-like-this)
       ("M-n" mc/unmark-next-like-this)
       ("p" mc/mark-previous-like-this)
       ("P" mc/skip-to-previous-like-this)
       ("M-p" mc/unmark-previous-like-this)
       ("s" mc/mark-all-in-region-regexp :exit t)
       ("0" mc/insert-numbers :exit t)
       ("A" mc/insert-letters :exit t)
       ("<mouse-1>" mc/add-cursor-on-click)
       ;; Help with click recognition in this hydra
       ("<down-mouse-1>" ignore)
       ("<drag-mouse-1>" ignore)
       ("q" nil :color blue))
   #+END_SRC

* Language Support
** General completion
   #+BEGIN_SRC emacs-lisp
     (use-package company
       :straight t
       :hook (after-init-hook . global-company-mode))
   #+END_SRC

** Flycheck
   #+BEGIN_SRC emacs-lisp
     (use-package flycheck
       :straight t
       :init (global-flycheck-mode))
   #+END_SRC

** Go
   #+BEGIN_SRC emacs-lisp
     (use-package go-mode
       :straight t
       :mode "\\.go\\'"
       :hook (go-mode .
		      (lambda ()
			(message "debug")
			(setq gofmt-command "goimports")
			(add-hook 'before-save-hook 'gofmt-before-save)
			(set (make-local-variable 'company-backends)
			     '((company-dabbrev-code company-go)))))
       :config
       (major-mode-hydra-define go-mode
	 (:color pink :quit-key "q")
	 ("Goto"
	  (("gd" godef-jump "definition")
	   ("gD" godef-jump-other-window "definition (other window)")))))

     (use-package go-eldoc
       :straight t
       :after go-mode
       :hook (go-mode . go-eldoc-setup))

     (use-package company-go
       :straight t
       :after go-mode)
   #+END_SRC

** Dockerfile
   #+BEGIN_SRC emacs-lisp
     (use-package dockerfile-mode
       :straight t
       :mode "\\^Dockerfile\\'")
   #+END_SRC

** Yaml
   #+BEGIN_SRC emacs-lisp
     (use-package yaml-mode
       :straight t
       :mode "\\.ya?ml\\'")
   #+END_SRC

* Scripts
** Codeblock
   #+BEGIN_SRC emacs-lisp
     (defun lisp-block ()
       "Insert 'org-mode' emacs lisp block."
       (interactive)
       (insert "#+BEGIN_SRC emacs-lisp\n\n#+END_SRC\n")
       (indent-buffer)
       (forward-line -2)
       (org-edit-special))
   #+END_SRC

** Indent buffer
   #+BEGIN_SRC emacs-lisp
     (defun indent-buffer ()
       (interactive)
       (save-excursion
	 (mark-whole-buffer)
	 (delete-trailing-whitespace)
	 (indent-region (point-min) (point-max))))

     (global-set-key "\C-x\\" 'indent-buffer)
   #+END_SRC
